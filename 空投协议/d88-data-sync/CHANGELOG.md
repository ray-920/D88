# 更新日志

## [1.0.0] - 2024-01-12

### 同步策略优化
- 实现区块链事件增量同步
- 记录同步时间戳，避免重复同步
- 支持手动触发同步操作

### 数据结构优化
- MongoDB数据结构完善
  - 添加直接和间接推荐计数
  - 记录推荐关系时间戳
- Redis数据结构优化
  - 使用hash结构存储用户数据
  - 优化数据读写性能

### 重要发现
- ReferralRegistered事件包含完整推荐关系信息
  - 用户地址(user)
  - 推荐人地址(referrer)
  - 时间戳(timestamp)
  - 直接推荐标志(isDirectReferral)

## [1.0.1] - 2024-01-12

### 数据同步完成
- 成功同步区块链数据到MongoDB
  - 当前区块高度: 6478787
  - 总用户数: 86
  - 直接推荐总数: 164
  - 间接推荐总数: 160
- 数据成功同步到Redis
  - 使用hash结构存储
  - 包含level1Count和level2Count统计

## [1.0.2] - 2024-01-12

### 奖励计算实现
- 实现基于权重的奖励计算
  - 基础空投权重: 7
  - 直接推荐权重: 2
  - 间接推荐权重: 1
- 完善计算流程
  - 计算总权重和单位奖励
  - 分别计算三类奖励
  - 汇总每个地址总奖励
- 输出处理优化
  - 生成规范化的CSV报告
  - 包含详细的计算参数
  - 记录各类奖励的参与人数 